---
title: 定义自定义视图 - 必应自定义搜索
titlesuffix: Azure Cognitive Services
description: 介绍如何创建站点和垂直搜索服务
services: cognitive-services
author: aahill
manager: cgronlun
ms.service: cognitive-services
ms.component: bing-custom-search
ms.topic: conceptual
ms.date: 09/28/2017
ms.author: aahi
ms.openlocfilehash: d45d917d733727eca3286bb6335ce77591f39685
ms.sourcegitcommit: c61c98a7a79d7bb9d301c654d0f01ac6f9bb9ce5
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/27/2018
ms.locfileid: "52427278"
---
# <a name="configure-your-custom-search-experience"></a>配置自定义搜索体验

可使用自定义搜索实例定制搜索体验，使其仅包含用户关心的网站上的内容。 必应不执行 Web 范围内的搜索，而只搜索你感兴趣的 Web 切片。 若要创建 Web 的自定义视图，请使用必应自定义搜索[门户](https://customsearch.ai)。 有关如何登录该门户的信息，请参阅[创建第一个必应自定义搜索实例](https://docs.microsoft.com/azure/cognitive-services/bing-custom-search/quick-start)。 

通过该门户，你可以创建一个搜索实例，指定你希望以及不希望必应搜索的域、子页面和网页。 除了指定你了解的内容的 URL 之外，还可以要求该门户对可能要添加到视图中的内容提供建议。 

可通过以下方式定义 Web 切片： 

1.  域。 域切片包括在 Internet 域中找到的所有内容。 例如，www.microsoft.com。 省略“www”会导致必应同时搜索该域的子域。 例如，如果你指定 microsoftoft.com，必应还会返回来自 support.microsoft.com 或 technet.microsoft.com 的结果。  
  
2.  子页面。 子页面切片包括在子页面及其下面的路径中找到的所有内容。 最多可在路径中指定两个子页面。 例如，www.microsoft.com/en-us/windows/  
  
3.  网页。 网页切片在自定义搜索中只能包含该网页。 你可以选择指定是否包含子页面。

指定的所有域、子页面和网页都必须是公开的，并由必应编制索引。 如果拥有要包含在搜索中的公共站点，并且必应尚未对其编制索引，请参阅必应[网站管理员文档](https://www.bing.com/webmaster/help/webmaster-guidelines-30fba23a)，了解有关让必应对其编制索引的详细信息。 另外，请参阅该网站管理员文档，了解有关在索引过期时让必应更新已爬网站点的详细信息。

## <a name="adding-slices-to-your-custom-search"></a>将切片添加到自定义搜索中

定义自定义搜索实例时，可以指定要搜索或不搜索的活动和受阻域、子页面及网页。  

- 活动：要包含在搜索中的域、子页面或网页的列表。  
  
- 受阻：要从搜索中排除的域、子页面或网页的列表。 所阻止的项目应该是在“活动”列表中列出的域和子页面下找到的内容。

若要访问每个列表，请单击自定义搜索实例中的“活动”和“受阻”选项卡。 

<a name="active-and-blocked-lists"></a>
## <a name="active-and-blocked-lists"></a>“活动”和“受阻”列表 

若要指定希望必应搜索的网络切片，请单击“活动”选项卡，并列出要搜索的域、子页面和网页。 可以直接将切片添加到该列表中，也可以通过使用上传图标上传文本文件来添加多个切片。

文件上传详细信息： 

- 文件上传仅可用于将切片添加到“活动”列表，而不能用于将切片添加到“受阻”列表。  
  
- 创建文本文件，每行指定一个域、子页面或网页。 如果发生错误，系统会拒绝整个上传操作。  
  
- 如果“受阻”列表包含在上传文件中指定的域、子页面或网页，则该服务会将其从“受阻”列表中删除，并添加到“活动”列表中。  
  
- 该服务会忽略上传文件中的重复项。

若要编辑或删除切片，请使用“控件”列下的选项。 

同样，你也可以将切片添加到“受阻”列表（不同的是你不能使用上传文件来指定切片）。

## <a name="pinned-list"></a>“固定”列表

如果用户输入特定搜索词，该门户还允许你将特定网页固定到搜索结果的顶部。 “固定”选项卡包含一个查询词和网页对列表，网页对用于指定显示为特定查询最匹配结果的网页。 此外，只有已编制索引的网页才会显示在搜索中。 有关固定结果的信息，请参阅[调整排名](#adjustrank)。 

固定结果不适用于图像搜索和视频搜索体验。

## <a name="website-suggestions"></a>网站建议

将切片添加到“活动”列表后，该服务会生成可能要添加到搜索中的网站和子页面建议。 “可能要添加”部分包含一些建议。 仅当有可用建议时，实例设置页面才会包含此部分。 

若要将建议添加到“活动”列表，请单击 + 图标。  由于该服务根据你的设置生成建议，因此请务必在添加建议后单击“刷新” 。 

## <a name="preview-pane"></a>“预览”窗格

可以使用右侧的“预览”窗格来提交搜索查询和查看结果，以测试搜索实例。 

1. 选择“我的实例”。
2. 选择一个安全搜索筛选器以及要搜索的市场（请参[阅查询参数](https://docs.microsoft.com/rest/api/cognitiveservices/bing-custom-search-api-v7-reference#query-parameters)）。
3. 输入查询并按 Enter 或单击搜索图标以查看当前配置的结果。 

若要选择待执行搜索的类型，请单击“Web”获取 Web 结果，单击“图像”获取图像结果，或单击“视频”获取视频结果。 

使用“预览”窗格时，还可以通过选择“必应”而非“我的实例”来查看必应结果。 这可用于将搜索体验的结果与必应返回的结果进行比较。

<a name="adjustrank"></a>
## <a name="adjust-rank"></a>调整排名

该门户允许通过调整排名来操作必应返回的结果。 在“预览”窗格中，输入搜索词并运行查询。 “预览”窗格会列出查询的搜索结果。 每个结果的右侧列出了可以进行的调整。 

- 阻止。 将域、子页面或网页移至“受阻”列表。 选择要阻止的级别。 必应会在搜索结果中排除所选站点的内容。  
  
- 提升。 提升搜索结果中域或子页面的内容。 可选择是否提升网页所属的域或子页面的内容。[了解详细信息](#boosting-and-demoting)  
  
- 降级。 对搜索结果中域或子页面的内容降级。 可选择是否对网页所属的域或子页面的内容降级。 [了解详细信息](#boosting-and-demoting)。  
  
- 固定至顶部。 如果用户的查询字符串与基于固定项的匹配条件的固定项查询字符串相匹配时，则定义结果顶部显示的网页。 “活动”列表不必包含要固定的网页。 [了解详细信息](#pin-to-top)。

调整排名不适用于图像搜索和视频搜索体验。

## <a name="boosting-and-demoting"></a>提升和降级

可以对“活动”列表中的任何域或子页面进行超级提升、提升或降级。 默认情况下，添加的所有切片都具有相同的权重。 超级提升或提升的项目在搜索结果中排名较高（超级提升排名高于提升）。 降级的项目在搜索结果中排名较低。

值得注意的是，超级提升、提升和降级会为域或子页面提供相应的权重变体。 这只是排名程序用来确定结果顺序的众多信号之一。 这意味着无法保证它们对特定查询产生的影响，因为还有许多其他因素可能会影响 Web 结果的整体排名。  若要确定提升或降级对排名程序可能产生的影响，请使用“预览”窗格测试搜索体验。

可以使用“活动”列表中的“排名调整”控件或使用“预览”窗格中的“提升”和“降级”控件对项目进行超级提升、提升或降级。 该服务会将切片添加到“活动”列表中并相应地调整排名。

超级提升、提升和降级不适用于图像搜索和视频搜索体验。

## <a name="pin-to-top"></a>固定至顶部

若要将网页固定到特定查询的搜索结果顶部，请选择以下选项之一：

1.  在“固定”选项卡中，输入要固定到结果顶部的网页的 URL 以及会触发固定的查询 **** 。  
  
2.  在“预览”窗格中，输入查询词并单击“搜索”。 接下来，如果用户输入相同的查询，请在结果中标识要固定到结果顶部的网页。 然后，单击“固定至顶部” ****。 该服务会将该网页和查询添加到“固定”列表中。 

可以在“固定”选项卡中跟踪固定项目 **** 。 这些固定项目显示为“\<query\>, \<webpage\>”对。 

对于特定查询，最多可以将一个网页固定到结果的顶部。

固定项目不适用于图像搜索和视频搜索体验。

### <a name="specifying-the-pins-match-condition"></a>指定固定项的匹配条件

仅当用户的查询字符串与基于固定项的匹配条件的固定项查询字符串相匹配时，网页才会固定到查询结果顶部。 默认情况下，仅在固定项的查询字符串与用户的查询字符串完全匹配时，才会匹配到固定项。 通过指定以下其中一个匹配条件可以更改默认行为。

- 开头为 &mdash; 如果用户的查询字符串以固定项的查询字符串开头，则固定项为匹配项。
- 结尾为 &mdash; 如果用户的查询字符串以固定项的查询字符串结尾，则固定项为匹配项。
- 包含 &mdash; 如果用户的查询字符串包含固定项的查询字符串，则固定项为匹配项。

若要更改固定项的匹配条件，请单击固定项的编辑图表（铅笔状图标）。 在“查询匹配条件”列中，单击下拉列表并选择要使用的新条件。 然后，单击保存图表，保存更改。

所有比较不区分大小写。

### <a name="changing-the-order-of-the-pins"></a>更改固定项的顺序

若要更改固定项的顺序，可拖放固定项或编辑固定项并更改其序号。 若要拖放固定项，单击列表中要移动的固定项，按住鼠标按钮并将固定项托动至要替换的固定项上，然后释放鼠标按钮。 可以看到固定项的序号会相应改变。

还可以编辑固定项的序号。 在“控件”列中，单击固定项的编辑图标（铅笔状图标）。 输入希望固定项在列表中显示的序号，然后按 Enter 或单击保存按钮。 例如，如果固定项在当前列表中排第六位，但你想将其更改为第二位，可将序号改为 2。

如果多个固定项满足匹配条件，则必应要使用的固定项由固定项的顺序决定。 例如，如果固定项 2 和固定项 3 满足相同匹配条件，则必应会使用固定项 2。

## <a name="use-bing-to-specify-slices"></a>使用必应指定切片

可通过若干种方法来指定构成自定义搜索的 Web 切片。 如果知道要包含在实例中的切片，请将它们添加到实例的“活动”列表中。 有关自行将项目添加到“活动”列表的信息，请参阅[“活动”和“受阻”列表](#active-and-blocked-lists)。

但是，如果不确定要包含哪些切片，则可以在“预览”窗格中运行必应查询，并查看必应返回的内容。 然后，可以选择要包含在自定义搜索中的切片。 可能需要运行多个查询词，以确保识别出实例所需的所有切片。 

按照以下步骤使用必应将切片添加到自定义搜索实例中。 

1.  登录必应自定义搜索[门户](https://customsearch.ai)。
2.  创建实例或选择要更新的实例。
3.  在右侧的“预览”窗格中，从下拉列表中选择“必应”。
4.  在搜索框中，输入与实例相关的查询词。
5.  单击要包含的结果旁边的“添加站点”。
6.  单击“确定”按钮。

[!INCLUDE [publish or revert](./includes/publish-revert.md)]

## <a name="view-statistics"></a>查看统计信息

如果在适当级别订阅了自定义搜索（请参阅[定价页](https://azure.microsoft.com/pricing/details/cognitive-services/bing-custom-search/)），则会在生产实例中添加“统计信息”选项卡。 “统计信息”选项卡显示有关如何使用自定义搜索终结点的详细信息，包括调用量、热门查询、地理分布、响应代码和安全搜索。 可以使用提供的控件筛选详细信息。

## <a name="understanding-quota"></a>了解配额

- 对于每个自定义搜索实例，可以对“活动”和“受阻”切片进行的排名调整次数上限为 400 次。
- 将切片添加到“活动”或“受阻”选项卡计为一次排名调整。
- 提升和降级计为两次排名调整。
- 对于每个自定义搜索实例，可以执行的固定操作次数上限为 200 次。

## <a name="next-steps"></a>后续步骤

- [调用自定义搜索](./search-your-custom-view.md)
- [配置托管 UI 体验](./hosted-ui.md)
- [使用修饰标记来突出显示文本](./hit-highlighting.md)
- [网页](./page-webpages.md)
